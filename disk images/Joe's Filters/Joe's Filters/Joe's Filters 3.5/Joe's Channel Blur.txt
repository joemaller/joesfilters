//                         v3.5 //	                  //	   wvwwvwvww    //	   \                  /  //	     \______/  //	                          	//       Joe's Filters     //   for Final Cut Pro // (C) 2002 Joe Maller// http://www.joesfilters.com// http://www.fxscriptreference.orgfilter "Joe's Channel Blur";group "Joe's Blur Filters";input BlurAmount, "Blur", Slider, 10, 0, 250 ramp 95;input aspect, "Aspect", Slider, 1, 0.1, 10 ramp 93.5 detent 1;input target, "Target", radiogroup, 1, "YUV (YCrCb)", "RGB";input rY, "Luma / Red", CheckBox, 1input gU, "Cb / Green", CheckBox, 1input bV, "Cr / Blue", CheckBox, 1input aA, "Alpha", CheckBox, 1input title, "Joe's Filters", Label,"";input title1, "www.joesfilters.com", Label,"";InformationFlag("YUVaware");ProducesAlphacodeexposedbackground=1float w, h, colorSpace, AspectRadius;colorSpace = GetPixelFormat(dest);			//store this for final conversion at the enddimensionsOf(Dest, w, h);float zoomfactor; zoomfactor = w/720;image xbuffer[w][h];xbuffer = src1;	AspectRadius = (aspect > 1) ? 1: 1/aspect;Blur(src1, dest, (BlurAmount * zoomfactor) / AspectRadius, aspectOf(dest) * aspect)if target == 1;	//YUV	if GetPixelFormat(dest) != kFormatYUV219;		ConvertImage(dest, dest, kFormatYUV219);		ConvertImage(xbuffer, xbuffer, kFormatYUV219);	end ifelse if target == 2;	//RGB	if GetPixelFormat(dest) != kFormatRGB219;		ConvertImage(dest, dest, kFormatRGB219);		ConvertImage(xbuffer, xbuffer, kFormatRGB219);	end ifend if;rY = (rY == 1) ? knone : kRed;gU = (gU == 1) ? knone : kGreen;bV = (bV == 1) ? knone : kBlue;aA = (aA == 1) ? knone : kalphaChannelCopy(xbuffer, dest, aA, rY, gU, bV);if GetPixelFormat(dest) != colorSpace;	//using colorspace makes this change back to whatever it started as	ConvertImage(dest, dest, colorSpace);end if